# 作用域是什么

https://resources.jointjs.com/demos/javascript-ast 


- react mvvm setState state 状态机制
  变量 程序的状态 声明空间(闭包, 作用域, 变量提升) 存储值
  值修改
- 赋值过程
  var a = 2; 它是怎么运行的？
  var 关键字 a identifier 标识符
  value literal
  高级语言
  无法理解, 及无法执行
## 编译原理
  语言执行的底层
  操作系统 -> 编译原理
  引擎 V8
  1.分词/词法分析阶段
  [var, a, =, 2];
  token 语法错误
  最后成为二进制文件
  2.语法分析阶段
  语法树
  数据结构 + 算法
  编译器也是一段代码 运行
  HTML <div></div> DOM树
  AST Abstract Syntax Tree
  3.代码生成
  JS 运行时编译
  JAVA C++ 预编译
  编译器 (Compiler)
  解释器 (Interoreterv)
  JIT 即时编译器

AO对应的是函数执行阶段，当函数被调用执行时，建立一个执行上下文,该执行上下文包含了函数所需的所有变量，该变量共同组成了一个新的对象就是Activetion Object。该对象包含了:
- 函数的所有局部变量
- 函数的所有命名参数
- 函数的参数集合
- 函数的this指向

作用域链
- 内层作用域在寻找变量的时候未找到，会沿着作用域上的AO向上寻找，直到全局。
- AO成链就是作用域链。

何为作用域链?
  执行上下文
  函数是一等对象, 每一个函数执行时会先在自己创建的AO对象上找到对应属性值。
  AO函数的管理者
  若找不到则往父函数AO上找, 再找不到, 再上一层的AO, 直到大boss windows(全局作用域)
  AO链 就是Javascript中的作用域链
  AO上如果有与函数同名的属性, 则会被此函数覆盖
  编译阶段 AO生成

LHS和RHS 都是出现在引擎对变量进行查询的时候
左查询和右查询各发生了多少次?
LHS: 变量赋值或写入内存, 想象为将文本文件保存到硬盘中
RHS: 变量查找或从内容中读取, 想象为从硬盘中打开文本文件

LHS RHS 特性
  都会在所有作用域中查询
  严格模式下, 找不到所需的变量, 引擎会抛出ReferenceError异常
  非严格模式下, LHR会自动创建一个全局变量
  查询成功后, 如果对变量的值进行不合理的操作, 引擎会抛出TypeError异常

callee 是 arguments 对象的一个属性。它可以用于引用该函数的函数体内当前正在执行的函数。这在函数的名称是未知时很有用，例如在没有名称的函数表达式 (也称为“匿名函数”)内。