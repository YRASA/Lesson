<!--
 * @Author: Zzceaon
 * @Date: 2020-08-05 20:06:53
 * @LastEditTime: 2020-08-05 20:34:20
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \Course\js\question\8-5\前序遍历.html
-->
<script>
const chapterTree = {
  name: '总章节',
  children: [
    { name: '章节一', children: [{ name: '第一节', children: [{ name: '第一小节' }, { name: '第二小节' }] }, { name: '第二节' }] },
    { name: '章节二', children: [{ name: '第三节' }, { name: '第四节' }] }]
}
// function serialize(tree) {
//   let res = []
//   function walk(node) {
//     res.push(node.name)
//     if (node.children) {
//       for (let file of node.children) {
//         walk(file)
//       }
//     }
//   }
//   walk(tree)
//   return res
// }
// const result = serialize(chapterTree);
// console.log(result);
// ["总章节", "章节一", "第一节", "第一小节", "第二小节", "第二节", "章节二", "第三节", "第四节"]

// 改进上面的程序，输出章节号同时输出对应的序号
function serialize(tree) {
  let res = []
  function walk(node, prefix) {
    // 拼接到这里来
    res.push(prefix + node.name)
    if (node.children) {
      for (let i = 0; i < node.children.length; i++) {
        // i 序号
        walk(node.children[i], `${prefix}${i + 1}`)
      }
    }
  }
  walk(tree, '')
  return res
}
const result = serialize(chapterTree);
console.log(result);
// ["总章节", "(1)章节一", "(1.1)第一节", "(1.1.1)第一小节", "(1.1.2)第二小节", "(1.2)第二节", "(2)章节二", "(2.1)第三节", "(2.2)第四节"]
</script>