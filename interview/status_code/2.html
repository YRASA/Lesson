<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>
        <button type="button" onclick="clickCounter()">点击</button>
        <div id="result"></div>
    </p>
    <script>
        // 刷新后,js运行,解决方案 html5 存储 cookie
        // localStorage本地存储(长久存储) sessionStorage会话存储(当前页面存储,关闭后清除)
        // cookie 浏览器存储的文本 http每次都带上
        // 三者区别
        // cookie是短暂保存在客户端，sessionStorage是短暂保存在服务器端，locaStorage是永久保存在本地
        // let count = 0;
        // let result = document.getElementById('result'); // 查询 时间开销
        // function clickCounter() {
        //     count++;
        //     result.innerText = count;
        // }
        // Storage 将点击次数保存到本地
        // localStorage通过把一些关键的css js 本地化,下次打开页面的时候会很快
        // 不一定是存储, js css png 浏览器 作为文件存储了
        function clickCounter() {
            if (typeof Storage !== "undefined") { 
                // 作用 浏览器支持本地Storage 浏览器嗅探 红宝书
                if (sessionStorage.clickCounter) { // 设置了吗?
                    sessionStorage.clickCounter = Number(sessionStorage.clickCounter) + 1;
                }
                else {
                    sessionStorage.clickCounter = 1;
                }
                result.innerHTML = `点击了${sessionStorage.clickCounter}次`
            }
            else {
                result.innerHTML = "Sorry, browser don't support";
            }
        }
    </script>
</body>
</html>